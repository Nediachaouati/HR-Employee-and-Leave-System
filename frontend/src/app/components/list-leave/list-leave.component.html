<div class="container mt-5">
  <h2 class="mb-4">My Leave Demands</h2>

  <table class="table table-striped table-bordered table-hover">
    <thead class="thead-dark">
      <tr>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Type</th>
        <th>Status</th>
        <th>Comments</th>
        <th>Approved By</th>
        <th>Created At</th>
        <th>Updated At</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let demand of demandes">
        <td>{{ demand.start_date | date:'yyyy-MM-dd' }}</td>
        <td>{{ demand.end_date | date:'yyyy-MM-dd' }}</td>
        <td>{{ demand.type }}</td>
        <td>
          <span 
            class="badge"
            [ngClass]="{
              'bg-warning text-dark': demand.status === 'En attente',
              'bg-danger': demand.status === 'Rejeté',
              'bg-success': demand.status === 'Approuvé'
            }">
            {{ demand.status }}
          </span>
        </td>
        <td>{{ demand.comments }}</td>
        <td>{{ demand.approvedById ? demand.approvedById : 'Not approved yet' }}</td>
        <td>{{ demand.created_at | date:'yyyy-MM-dd HH:mm' }}</td>
        <td>{{ demand.updated_at | date:'yyyy-MM-dd HH:mm' }}</td>
      </tr>
    </tbody>
  </table>
</div>
